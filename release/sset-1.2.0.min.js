(function(){const head=document.head||document.getElementsByTagName('head')[0];if(!document.querySelector('meta[charset]')){const metaCharset=document.createElement('meta');metaCharset.setAttribute('charset','utf-8');head.prepend(metaCharset);}const metaVp=document.createElement('meta');metaVp.name="viewport";metaVp.content="width=device-width,initial-scale=1.0";head.appendChild(metaVp);const fontLink=document.createElement('link');fontLink.rel='stylesheet';fontLink.href='https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&family=Poppins:wght@100..900&display=swap';head.appendChild(fontLink);const style=document.createElement('style');style.textContent=`*{font-family:Poppins,Noto Sans JP;white-space:pre-wrap;a{color:#007bff;text-decoration:none;}`;head.appendChild(style);const formatContent=()=>{const body=document.body;const scripts=body.querySelectorAll('script');scripts.forEach(s=>s.remove());const firstChild=body.firstChild;if(firstChild&&firstChild.nodeType===3){const text=firstChild.textContent.trim();const lines=text.split('\n');const title=lines[0];if(title){document.title=title;const h1=document.createElement('h1');h1.textContent=title;firstChild.textContent=text.substring(title.length).replace(/^\n+/,'');body.prepend(h1);}}};if(document.readyState==='loading'){window.addEventListener('DOMContentLoaded',formatContent);}else{formatContent();}})();
